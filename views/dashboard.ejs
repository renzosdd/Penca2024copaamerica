<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Copa América 2024</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" rel="stylesheet">
    <link href="/css/style.css" rel="stylesheet">
</head>
<body data-role="<%= user.role %>" data-username="<%= user.username %>">
    <header>
        <nav class="blue darken-3">
            <div class="nav-wrapper container">
                <a href="#" class="brand-logo"><img src="/images/Logo.png" alt="Logo" class="responsive-img" style="height: 50px;"></a>
                <ul class="right">
                    <li>
                        <a href="#" data-target="info-modal" class="modal-trigger">
                            <i class="material-icons">info</i>
                        </a>
                    </li>
                    <li>
                        <a class="dropdown-trigger" href="#!" data-target="user-dropdown">
                            <img src="<%= user.avatar ? '/avatar/' + user.username : '/images/avatar.webp' %>" alt="Avatar" class="circle responsive-img" style="height: 50px;">
                        </a>
                    </li>
                </ul>
                <ul id="user-dropdown" class="dropdown-content">
                    <li><a href="#" id="logout-button">Cerrar sesión</a></li>
                </ul>
            </div>
        </nav>
    </header>
    <div class="container">
        <ul class="tabs">
            <li class="tab col s3"><a href="#fixture" class="<%= user.role === 'admin' ? 'active' : '' %>">Fixture</a></li>
            <li class="tab col s3"><a href="#predictions" class="<%= user.role !== 'admin' ? 'active' : '' %>">Predicciones</a></li>
            <li class="tab col s3"><a href="#ranking">Ranking</a></li>
        </ul>
        
        <div id="fixture" class="col s12">
            <div id="matches-list" class="row"></div>
        </div>
        <div id="predictions" class="col s12">
            <div id="predictions-list" class="row"></div>
        </div>
        <div id="ranking" class="col s12">
            <div id="ranking-list" class="row"></div>
        </div>
    </div>
    <footer class="page-footer blue darken-3">
        <div class="container">
            <ul>
                <li>
                    <a href="https://www.linkedin.com/in/renzodogliotti/">
                        <img src="/images/linkedin.png" alt="LinkedIn" class="responsive-img">
                    </a>
                </li>
                <li>
                    <a href="https://github.com/renzosdd">
                        <img src="/images/github.png" alt="GitHub" class="responsive-img">
                    </a>
                </li>
            </ul>
        </div>
    </footer>
    
    <!-- Modal de Información -->
    <div id="info-modal" class="modal">
        <div class="modal-content">
            <h4>Reglas de la Penca</h4>
            <p>
                - Resultado exacto da 3 puntos.
                - Pronosticar resultado (ganador o empate) da 1 punto.
                - Adivinar la cantidad de goles de uno de los dos equipos da 1 punto adicional.
            </p>
        </div>
        <div class="modal-footer">
            <a href="#!" class="modal-close waves-effect waves-green btn-flat">Cerrar</a>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="/js/dashboard.js"></script>
</body>
</html>
